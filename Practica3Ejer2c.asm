PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 1000H
MSJ DB "Ingrese un caracter (hasta 5)"
FIN DB ?
CAR DB ?
FIN2 DB ?

ORG 2000H
MOV CX,0 ;CONTADOR DE CARACTERES
OTRO_CAR:MOV BX,OFFSET MSJ
MOV AL,OFFSET FIN- OFFSET MSJ
INT 7

MOV BX,OFFSET CAR
INT 6
INC CX

; INICIALIZACION PIO PARA IMPRESORA
; CA
MOV AL, 11111101B
OUT CA, AL
; CB
MOV AL, 0
OUT CB, AL

; RECORRER STRING
MOV BX, OFFSET CAR
POLL: IN AL,PA
      AND AL,1
      JNZ POLL

mov al,[bx]
OUT PB,AL

IN AL,PA
OR AL,2
OUT PA,AL

IN AL,PA
AND AL,11111101B
OUT PA,AL

INC BX
CMP BX, OFFSET FIN2
JNZ POLL
CMP CX,5
JNZ OTRO_CAR
END
